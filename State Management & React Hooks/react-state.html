<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React State</title>

    <script src="https://unpkg.com/@babel/standalone/babel.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  </head>
  <body>
    <h1>React State - Solecode Academy Frontend Developer</h1>
    <hr />
    <div id="root"></div>
    <hr />
    <div id="root2"></div>
    <hr />
    <div id="root3"></div>
    <hr />
    <div id="root4"></div>
  </body>
  <script type="text/babel">
    // class component state
    class MyApp extends React.Component {
      constructor(props) {
        super(props);
        this.state = { judul: "Belajar React" };
      }

      handleButtonClick = () => {
        this.setState({ judul: "Belajar Javascript" });
      };

      render() {
        return (
          <>
            <h1>{this.state.judul}</h1>
            <button onClick={this.handleButtonClick}>Click me</button>
          </>
        );
      }
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<MyApp />);

    // multiple state
    class MyApp2 extends React.Component {
      constructor(props) {
        super(props);
        this.state = { judul1: "Belajar React", judul2: "Belajar Javascript" };
      }

      handleButtonClick = () => {
        this.setState({ judul1: "Belajar React State" });
      };

      render() {
        return (
          <>
            <h1>{this.state.judul1}</h1>
            <h1>{this.state.judul2}</h1>
            <button onClick={this.handleButtonClick}>Click me</button>
          </>
        );
      }
    }

    ReactDOM.createRoot(document.getElementById("root2")).render(<MyApp2 />);

    // object state
    class MyApp3 extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          judul: {
            satu: "Belajar React",
            dua: "Belajar Javascript",
          },
        };
      }

      handleButtonClick = () => {
        this.setState({
          judul: { ...this.state.judul, satu: "Belajar React State" },
        });
      };

      render() {
        return (
          <>
            <h1>{this.state.judul.satu}</h1>
            <h1>{this.state.judul.dua}</h1>
            <button onClick={this.handleButtonClick}>Click me</button>
          </>
        );
      }
    }

    ReactDOM.createRoot(document.getElementById("root3")).render(<MyApp3 />);

    // passing down state to a child component
    // example 1
    // Mahasiswa component as a child component
    class Mahasiswa extends React.Component {
      render() {
        return (
          <figure>
            <img
              src={"img/" + this.props.mahasiswa.pasFoto}
              alt={this.props.mahasiswa.nama}
            />
            <figcaption>
              {this.props.mahasiswa.nama} ({this.props.mahasiswa.jurusan})
            </figcaption>
          </figure>
        );
      }
    }
    // MyApp4 component as a parent component
    class MyApp4 extends React.Component {
      constructor() {
        super();
        this.state = {
          nama: "Eka",
          jurusan: "Teknik Informatika",
          pasFoto: "people1.jpg",
        };
      }

      render() {
        return (
          <div>
            <Mahasiswa mahasiswa={this.state} />
          </div>
        );
      }
    }

    ReactDOM.createRoot(document.getElementById("root4")).render(<MyApp4 />);
  </script>
</html>
